# Упражнение №5 - Указатели и Масиви


## [Указатели](https://cplusplus.com/doc/tutorial/pointers/)

### Синтаксис: `<тип> *<име> = &<променлива>;`

- Само декларация:
    ```cpp
    double *ptr;
    ```

- Декларация и инициализация:
    ```cpp
    int x = 42;
    int *xPtr = &x;
    ```

### Примери:

**Пример 1.** Дефинирайте функция, която приема два целочислени параметъра и разменя стойностите им.
```cpp
void swap(int *x, int *y) {
    int temp = *x;
    *x = *y;
    *y = temp;
}
```


## [Масиви](https://cplusplus.com/doc/tutorial/arrays/)

### Синтаксис: `<тип> <име>[<размер>] = { <инициализация> };`

- Само декларация:
    ```cpp
    double dailyTemperature[365];
    ```

- Декларация и инициализация:
    ```cpp
    int digits[10] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};
    ```

### Примери:

#### Обхождане, филтриране и агрегиране:

**Пример 2.** Дефинирайте функция, която приема целочислен масив и връща сбора от всички негови елементи, които са четни числа.
```cpp
long sumEvenElements(const int* const xs, const size_t n) {
    long res = 0;
    for (size_t i = 0; i < n; i ++) {
        if (xs[i] % 2 == 0) {
            res += xs[i];
        }
    }
    return res;
}
```

#### Обхождане на всички двойки:

**Пример 3.** Брой _"инверсии"_: Дефинирайте функция, която приема целочислен масив `xs` и връща броя на двойките $i, j$, такива че $i < j$ и $xs_i > xs_j $.
```cpp
unsigned countInversions(const int* const xs, const size_t n) {
    unsigned res = 0;
    for (size_t i = 0; i < n; ++i) {
        for (size_t j = i + 1; i < n; ++j) {
            res += (xs[i] > xs[j]);
        }
    }
    return res;
}
```

#### Два указателя:

**Пример 4.** Напишете функция, която приема целочислен масив и го пренарежда така, че четните числа да се намират преди нечетните. Функцията връща броя на четните числа.
```cpp
size_t sortEven(int *nums, size_t len) {
    size_t even = 0;
    for(size_t i = 0; i < len; i++) {
        if (nums[i] % 2 == 0) {
            if (i > even) {
                swap(&nums[i], &nums[even]);
            }
            even ++;
        }
    }
    return even;
}
```

#### Помощен масив, напр честотна таблица (_frequency table_)

**Пример 5.** Напишете функция, която приема цяло число и връща дали в него има повтарящи се цифри.
```cpp
bool hasRepeatingDigits(long long n) {
    bool digits[10] = {};
    do {
        const int digit = n % 10;
        if (digits[digit]) {
            return true;
        }
        digits[digit] = true;
        n /= 10;
    } while (n);

    return false;
}
```

### Полезни връзки:

- [`nullptr`](https://en.cppreference.com/w/cpp/language/nullptr): правилната константа за _null pointer_ в С++ (**НЕ** използвайте `NULL`).

- [`size_t`](https://en.cppreference.com/w/cpp/types/size_t): правилният тип за индексиране/обхождане/размер на масиви!



## Задачи

> :warning: **Важно!** Във всички задачи, при невалидни данни или грешка, нека функцията хвърля изключение. Хванете изключението в main() и отпечатайте подходящо съобщение за грешка.

**Задача 1.** Дефинирайте функция, която приема целочислен масив и отпечатва стойностите му разделени с интервал.

**Задача 2.** Нека е даден масив от числени стойности (`double`). Дефинирайте следните функции:
- `min`, която връща стойността на най-малкия елемент от масива
- `max`, която връща стойността на най-големия елемент
- `sum`, която връща сбора на елементите в масива
- `product`, която връща тяхното произведение.

**Задача 3.** Напишете функция, която приема целочислен масив и връща дали елементите му са подредени в нарастващ ред.

**Задача 4.** Нека е даден масив от булеви стойности. Дефинирайте функциите:
- `any`, която връща дали някоя от тях е _истина_ (`true`)
- `all`, която връща дали всички са _истина_.

**Задача 5.** Нека е даден масив от булеви стойности. Дефинирайте функция, която връща индекса на първата стойност, която е _истина_.

**Задача 6.** Напишете функция, която приема цяло (`long long`) число и връща дали то съдържа всяка от цифрите (от `0` до `9` вкл.)

**Задача 7.** Напишете функция, която приема цяло число и връща най-често срещаната цифра в числото.

**Задача 8.** [Hamming distance](https://en.wikipedia.org/wiki/Hamming_distance): Дефинирайте функция, която приема два масива с една и съща дължина и връща броя на различаващите се елементи на една и съща позиция в двата масива.

_Примери:_

|            Вход            | Изход |
|:--------------------------:|:-----:|
| {1, 2, 2, 4}, {1, 2, 3, 4} | 1 |
| {1, 2, 2, 4}, {1, 2, 4, 2} | 2 |

**Задача 9.** Дефинирайте функция, която приема целочислен масив и цифра и връща колко общо пъти дадената цифрата се среща във всички елементи на масива.

_Примери:_

|       Вход        | Изход |
|:-----------------:|:-----:|
| {1, 2, 33, 73}, 1 | 1 |
| {1, 2, 33, 73}, 3 | 3 |

**Задача 10.** Дефинирайте функция, която приема два целочислени масива (с потенциално различни дължини) и отпечатва всички елементи, които се срещат в и двата. Каква е сложността на вашата функция? Как бихте могли да я подобрите?

_Примери:_

|     Вход     |   Изход   |
|:------------:|:---------:|
| {1, 2, 3, 4}, {3, 7, 5, 1} | 1, 3 или 3, 1 |

**Задача 11.** Дефинирайте функция, която приема целочислен масив и пренарежда елементите му така, че всички прости числа в масива да се намират преди всички съставни числа и връща броя на простите числа в масива. Каква е сложността на функцията? (Mоже да приемете, че проверката дали едно число е просто отнема константно време).

_Примери:_

|     Вход     |   Изход   | Масив след функцията |
|:------------:|:---------:|:--------------------:|
| {2, 3, 8, 12, 5, 6, 17, 1} | 4 | {2, 3, 5, 17, 8, 12, 6, 1} |

**Задача 12.** Дефинирайте функция, която приема целочислен масив и отпечатва стартовия индекс и дължината на най-дългата последователност от повтарящи се едно след друго числа в масива.

_Примери:_

|     Вход     |   Изход   |
|:------------:|:---------:|
| {2, 2, 2, 3, 3, 5, 5, 5, 5, 1, 2, 3, 2, 2, 2, 3} | дължина 4, индекс 5 |

**Задача 13.** Дефинирайте функция, която приема два масива (с потенциално различни дължини), чиито елементи са подредени в нарастващ ред и трети масив - с дължина равна на сбора на дължините на предните два - и записава в него всички елементи от първите два масива в нарастващ ред.

_Примери:_

|     Вход     |   Изход   |
|:------------:|:---------:|
| {1, 2, 15, 27}, {8, 12, 25} | {1, 2, 8, 12, 15, 25, 27} |

**Задача 14.** Напишете функция, която приема целочислен масив и отпечатва всички възможни ротации на елементите му.

_Примери:_

|     Вход     |   Изход   |
|:------------:|:---------:|
| {1, 2, 3}    | 1 2 3     |
|              | 2 3 1     |
|              | 3 1 2     |
|              |           |
| {1, 2, 2, 4} | 1 2 2 4   |
|              | 2 2 4 1   |
|              | 2 4 1 2   |
|              | 4 1 2 2   |

**Задача 15.** Напишете функция, която приема два целочислени масива (с потенциално различни дължини) и връща дали първият масив е под-масив на втория.

_Примери:_

|             Вход              | Изход |
|:-----------------------------:|:-----:|
| {1, 2, 3}, {2, 3, 1, 2, 3, 5} | true  |
| {1, 2, 3}, {2, 3, 1, 2, 5, 3} | false |

**Задача 16.** Напишете функция, която приема два целочислени масива (с потенциално различни дължини) и връща дали първият масив е под-_редица_ на втория.

_Примери:_

|             Вход              | Изход |
|:-----------------------------:|:-----:|
| {1, 2, 3}, {2, 3, 1, 2, 3, 5} | true  |
| {1, 2, 3}, {2, 3, 1, 2, 5, 3} | true  |
| {1, 2, 3}, {2, 3, 1, 2, 5, 2} | false |

**Задача 17.** Напишете функцията `partition`, която приема целочислен масив и число `pivot` и пренарежда елементите в масива, така че всички елементи по-малки или равни на `pivot` се намират преди който и да било елемент по-голям от `pivot`. Функцията връща броя на елементите по-малки или равни на `pivot`.

_Примери:_

|         Вход         | Изход | Масив след функцията |
|:--------------------:|:-----:|:--------------------:|
| {2, 3, 1, 2, 5, 3} 1 | 1 | {1, 2, 3, 2, 5, 3} |
| {2, 3, 1, 2, 5, 3} 2 | 3 | {2, 1, 2, 3, 5, 3} |
| {2, 3, 1, 2, 5, 3} 3 | 5 | {2, 3, 1, 3, 3, 5} |

**Задача 18.** Напишете функцията `dedup`, която приема целочислен масив и връща `n` - броя на уникалните елементи в масива - като същевременно пренарежда масива по такъв начин, че в първите `n` клетки да няма повтарящи се елементи.

_Примери:_

|        Вход        | Изход | Масив след функцията |
|:------------------:|:-----:|:--------------------:|
| {2, 3, 1, 2, 5, 3} | 4 | {2, 3, 1, 5, 2, 3} |
| {2, 3, 3, 2, 5, 3} | 3 | {2, 3, 5, 2, 3, 3} |
| {3, 3, 3, 2, 5, 3} | 3 | {3, 2, 5, 3, 3, 3} |

**Задача 19.** _**Counting sort**_: Нека е даден масив от `unsigned short` числа с дължина $n >> 65535$. Напиешете функция, която сортира масива в линейно време (т.е. с константен брой обхождания).

**Задача 20.** Нека е даден целочислен масив `numbers` и число `k` (`unsigned short`). Напишете функция, която връща броя на под-масивите на `numbers`, чийто сбор е кратен на `k`.

_Бонус&ast;:_ Решете задачата само с _**едно-единствено**_ обхождане на масива.
